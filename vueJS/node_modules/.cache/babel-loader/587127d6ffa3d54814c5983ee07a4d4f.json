{"ast":null,"code":"import \"core-js/modules/es.symbol.js\";\nimport \"core-js/modules/es.symbol.description.js\";\nimport \"core-js/modules/es.object.to-string.js\";\nimport \"core-js/modules/es.regexp.to-string.js\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport axios from \"axios\";\nimport DataTable from \"vue-materialize-datatable\"; //import ArchiverItem from \"@/components/ArchiverItem\";\n\nimport FormationDetails from \"@/components/formation/FormationDetails\";\nexport default {\n  name: \"FormationsView\",\n  components: {\n    //  ArchiverItem,\n    FormationDetails: FormationDetails,\n    datatable: DataTable,\n    addDe: addDe\n  },\n  data: function data() {\n    return {\n      tableColumns1: [{\n        label: \"titre de formation\",\n        field: \"titre\",\n        numeric: false,\n        html: false\n      }, {\n        label: \"date debut\",\n        field: \"date_debut\",\n        numeric: true,\n        html: false\n      }, {\n        label: \"description\",\n        field: function f(fo) {\n          if (fo.description) {\n            return fo.description.toString().substring(0, 20) + \"…\";\n          } else {\n            return \"pas de description\";\n          }\n        },\n        numeric: false,\n        html: false\n      }],\n      formations: [],\n      formation: {}\n    };\n  },\n  mounted: function mounted() {\n    this.getformations();\n  },\n  methods: {\n    showModal: function showModal(id) {\n      this.$bvModal.show(id); // this.$refs[id].show()\n    },\n    onRowClick: function onRowClick(row) {\n      this.formation = row;\n      console.log(this.formation);\n      this.showModal('my-modal');\n    },\n    getformations: function getformations() {\n      var _this = this;\n\n      axios.get(\"http://127.0.0.1:8000/api/formations\").then(function (response) {\n        _this.formations = response.data;\n      }).catch(function (error) {\n        return console.log(error.response);\n      });\n    },\n    deleteitm: function deleteitm(id) {\n      var _this2 = this;\n\n      axios.delete(\"http://127.0.0.1:8000/api/formation/\" + id).then(function (response) {\n        if (response.data == true) _this2.getformations();\n      }).catch(function (error) {\n        return console.log(error.response);\n      });\n    }\n  }\n};","map":{"version":3,"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA0BA;AAEA,kD,CACA;;AACA;AACA;AACAA,wBADA;AAEAC;AACA;AACAC,sCAFA;AAGAC,wBAHA;AAIAC;AAJA,GAFA;AAQAC;AACA;AACAC,sBACA;AACAC,mCADA;AAEAC,sBAFA;AAGAC,sBAHA;AAIAC;AAJA,OADA,EAOA;AACAH,2BADA;AAEAC,2BAFA;AAGAC,qBAHA;AAIAC;AAJA,OAPA,EAaA;AACAH,4BADA;AAEAC;AACA;AACA;AACA,WAFA,MAEA;AACA;AACA;AACA,SARA;AASAC,sBATA;AAUAC;AAVA,OAbA,CADA;AA4BAC,oBA5BA;AA6BAC;AA7BA;AA+BA,GAxCA;AAyCAC,SAzCA,qBAyCA;AACA;AACA,GA3CA;AA4CAC;AACAC,aADA,qBACAC,EADA,EACA;AACA,6BADA,CAEA;AACA,KAJA;AAKAC,cALA,sBAKAC,GALA,EAKA;AAEA;AACAC;AACA;AACA,KAVA;AAWAC,iBAXA,2BAWA;AAAA;;AACAC,YACAC,GADA,CACA,sCADA,EAEAC,IAFA,CAEA;AACA;AACA,OAJA,EAKAC,KALA,CAKA;AAAA;AAAA,OALA;AAMA,KAlBA;AAmBAC,aAnBA,qBAmBAT,EAnBA,EAmBA;AAAA;;AACAK,YACAK,MADA,CACA,2CADA,EAEAH,IAFA,CAEA;AACA;AACA,OAJA,EAKAC,KALA,CAKA;AAAA;AAAA,OALA;AAMA;AA1BA;AA5CA","names":["name","components","FormationDetails","datatable","addDe","data","tableColumns1","label","field","numeric","html","formations","formation","mounted","methods","showModal","id","onRowClick","row","console","getformations","axios","get","then","catch","deleteitm","delete"],"sourceRoot":"src/views/formation","sources":["FormationsView.vue"],"sourcesContent":["<template>\r\n  <div id=\"app\" class=\"container\">\r\n    <h1 class=\"text-center\">Datatable with Vue</h1>\r\n\r\n    <datatable\r\n      title=\"Basic table\"\r\n      :columns=\"tableColumns1\"\r\n      :rows=\"formations\"\r\n      v-on:row-click=\"onRowClick\"\r\n      :perPage=\"[3, 5, 10]\"\r\n    >\r\n      <th slot=\"thead-tr\">Actions</th>\r\n  <div>\r\n      <b-button variant=\"info\" @click=\"getdemande(id)\">Envoyer demande</b-button>\r\n  </div>\r\n      <template slot=\"tbody-tr\">\r\n        <td>\r\n          <b-button pill variant=\"outline-info\">detail</b-button>\r\n        </td>\r\n      </template>\r\n    </datatable>\r\n    <FormationDetails :formation=\"formation\" />\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport axios from \"axios\";\r\n\r\nimport DataTable from \"vue-materialize-datatable\";\r\n//import ArchiverItem from \"@/components/ArchiverItem\";\r\nimport FormationDetails from \"@/components/formation/FormationDetails\";\r\nexport default {\r\n  name: \"FormationsView\",\r\n  components: {\r\n    //  ArchiverItem,\r\n     FormationDetails,\r\n    datatable: DataTable,\r\n    addDe\r\n  },\r\n  data: function () {\r\n    return {\r\n      tableColumns1: [\r\n        {\r\n          label: \"titre de formation\",\r\n          field: \"titre\",\r\n          numeric: false,\r\n          html: false,\r\n        },\r\n        {\r\n          label: \"date debut\",\r\n          field: \"date_debut\",\r\n          numeric: true,\r\n          html: false,\r\n        },\r\n        {\r\n          label: \"description\",\r\n          field: function f(fo) {\r\n            if (fo.description) {\r\n              return fo.description.toString().substring(0, 20) + \"…\";\r\n            } else {\r\n              return \"pas de description\";\r\n            }\r\n          },\r\n          numeric: false,\r\n          html: false,\r\n        },\r\n      ],\r\n\r\n      formations: [],\r\n      formation:{},\r\n    };\r\n  },\r\n  mounted() {\r\n    this.getformations();\r\n  },\r\n  methods: {\r\n    showModal(id) {\r\n      this.$bvModal.show(id);\r\n      // this.$refs[id].show()\r\n    },\r\n    onRowClick(row) {\r\n     \r\n      this.formation = row;\r\n      console.log(this.formation);\r\n    this.showModal('my-modal');\r\n    },\r\n    getformations() {\r\n      axios\r\n        .get(\"http://127.0.0.1:8000/api/formations\")\r\n        .then((response) => {\r\n          this.formations = response.data;\r\n        })\r\n        .catch((error) => console.log(error.response));\r\n    },\r\n    deleteitm(id) {\r\n      axios\r\n        .delete(\"http://127.0.0.1:8000/api/formation/\" + id)\r\n        .then((response) => {\r\n          if (response.data == true) this.getformations();\r\n        })\r\n        .catch((error) => console.log(error.response));\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style>\r\n@import \"~material-design-icons-iconfont/dist/material-design-icons\";\r\n\r\n</style>"]},"metadata":{},"sourceType":"module"}